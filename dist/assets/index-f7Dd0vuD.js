import{f as w,g as y,r as c,j as e,B as N,L,c as F,h as k}from"./index-C_HiF49y.js";import{u as E,t as S,F as I,a as m,b as x,c as u,d as g,e as h,o as M,s as p}from"./index-3P9hrxqg.js";import{I as f}from"./input-CJaVs75F.js";import{a as A,g as P}from"./api-CWQ4g86W.js";import"./index-Biiv9KAF.js";const V=M({email:p().email({message:"Enter a valid email address"}),password:p().min(1,{message:"Password must be at least 6 characters long"})});function B(){const j=w();y();const[t,l]=c.useState(!1),[n,o]=c.useState(""),v={email:"",password:""},r=E({resolver:S(V),defaultValues:v}),b=async a=>{var i,d;l(!0),o("");try{const s=await A.post(P("loginMaster"),a);s.status===200&&s.data.status?(localStorage.setItem("token",s.data.data.token),j("/")):o(s.data.message||"Login failed")}catch(s){o(((d=(i=s.response)==null?void 0:i.data)==null?void 0:d.message)||"An error occurred")}finally{l(!1)}};return e.jsx(e.Fragment,{children:e.jsx(I,{...r,children:e.jsxs("form",{onSubmit:r.handleSubmit(b),className:"w-full space-y-4",children:[e.jsx(m,{control:r.control,name:"email",render:({field:a})=>e.jsxs(x,{children:[e.jsx(u,{children:"Email"}),e.jsx(g,{children:e.jsx(f,{type:"email",placeholder:"Enter your email...",disabled:t,...a})}),e.jsx(h,{})]})}),e.jsx(m,{control:r.control,name:"password",render:({field:a})=>e.jsxs(x,{children:[e.jsx(u,{children:"Password"}),e.jsx(g,{children:e.jsx(f,{type:"password",placeholder:"Enter your password...",disabled:t,...a})}),e.jsx(h,{})]})}),n&&e.jsx("div",{className:"text-red-500 text-sm",children:n}),e.jsx(N,{disabled:t,className:"ml-auto w-full",type:"submit",children:t?"Logging in...":"Login"})]})})})}function H(){return e.jsxs("div",{className:"relative h-screen flex-col items-center justify-center md:grid lg:max-w-none lg:grid-cols-2 lg:px-0",children:[e.jsx(L,{to:"/",className:F(k({variant:"ghost"}),"absolute right-4 top-4 hidden md:right-8 md:top-8"),children:"Login"}),e.jsxs("div",{className:"relative hidden h-full flex-col bg-muted p-10 text-white dark:border-r  lg:flex",children:[e.jsx("div",{className:"absolute inset-0 bg-primary dark:bg-secondary"}),e.jsxs("div",{className:"relative z-20 flex items-center text-lg font-medium",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-2 h-6 w-6",children:e.jsx("path",{d:"M15 6v12a3 3 0 1 0 3-3H6a3 3 0 1 0 3 3V6a3 3 0 1 0-3 3h12a3 3 0 1 0-3-3"})}),"Logo"]}),e.jsx("div",{className:"relative z-20 mt-auto"})]}),e.jsx("div",{className:"flex h-full items-center p-4 lg:p-8",children:e.jsxs("div",{className:"mx-auto flex w-full flex-col justify-center space-y-6 sm:w-[350px]",children:[e.jsxs("div",{className:"flex flex-col space-y-2 text-center",children:[e.jsx("h1",{className:"text-2xl font-semibold tracking-tight",children:"Login As Admin"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Enter your email below to to logged in your account"})]}),e.jsx(B,{})]})})]})}export{H as default};
